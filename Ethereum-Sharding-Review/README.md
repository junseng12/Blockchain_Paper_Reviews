# 🧠 이더리움 샤딩에서 로드 밸런싱에 최적화된 계정 재배치 논문 리뷰

---

## 📁디렉터리 구조

```bash
Blockchain_Paper_Reviews/
└── Ethereum-Sharding-Review/
    ├── README.md
    ├── Sharding.md
    ├── images/
    │   └── .gitkeep
    └── notes/
        ├── concept_questions.md
        └── section-by-section-analysis.md
```

---

## 🔍 논문 개요

- **논문명**: 이더리움 샤딩에서 로드 밸런싱에 최적화된 계정 재배치
- **핵심 주제**: 이더리움 샤딩 환경에서 계정 기반 로드 불균형 해소를 위한 재배치 알고리즘 설계
- **주요 기여**:
  - 실제 이더리움 10,000개 블록 데이터를 기반으로 한 실험 설계
  - Cross-Shard Transaction(CST) 중심의 부하 측정
  - 가중치 기반 계정 재배치 알고리즘 제안

---

## 📐 핵심 문제 정의

- **샤딩 시스템의 구조적 비효율**: 샤드 간 로드 불균형이 CST 증가로 이어져 병렬 처리 이점을 상쇄함
- **기존 샤드 배정 방식의 한계**: 단순 해시 기반 배정은 트랜잭션 수/형태(내부 or 외부)에 기반하지 않아 부하 편중 유발
- **기존 연구의 제약**:
  - 머신러닝 기반 예측은 오버헤드가 크고, 실시간 적용이 어려움
  - CST만을 고려한 스케줄링은 밸런싱 반영에 지연 발생

```plaintext
샤딩(Sharding): 블록체인을 병렬 처리하기 위한 구조로, 이더리움은 샤드를 통해 TPS 향상을 도모함
문제점: CST(Cross-Shard Transaction) 비중이 증가하면 샤드 간 통신 비용이 증가하고, 병렬성이 무력화될 수 있음
불균형 원인**:
  - 계정 수 자체의 불균형
  - 특정 계정의 집중적 CST 발생
  - 기존 가중치 라운드 로빈(W-RR) 방식의 비효율
```

## 🧠 제안 기법의 구성

### ✅ 주요 개념

- **IST**: 동일 샤드 내 계정 간 트랜잭션 → 낮은 비용/지연
- **CST**: 서로 다른 샤드 간 트랜잭션 → 동기/비동기 통신 필요, 높은 비용/지연
- **샤드 로드** = IST 수 + 2 \* CST 수 (CST의 가중치 부여)

### ⚙️ 실험 설계 및 재배치 구조

- **데이터 기반**:
  - 실제 이더리움 블록 10,000개
  - 약 130만 개의 계정과 120만 개의 트랜잭션
- **샤드 할당 방식**: 해시 기반 샤드 지정
- **비교 방법**:
  - 해시 기반 샤딩 (기존 기준, 재배치 X)
  - SA 알고리즘 기반 재배치
  - 제안한 가중치 기반 재배치 기법
- **CST/IST 정의**:
  - IST: 샤드 내 계정 간 트랜잭션 → 지연 적음
  - CST: 샤드 간 계정 간 트랜잭션 → 통신 필요, 부하 큼
- **재배치 로직**:
  1. 각 샤드의 로드를 측정 (CST 2배 가중치)
  2. 불균형이 감지되면, 고부하 샤드에서 CST 많이 유발한 계정을 탐색
  3. 타 샤드로 계정을 이동하여 CST → IST 로 전환 유도
  4. 밸런싱 여부에 따라 반복 수행

> 📌 A 조건에서 알고리즘 종료: 모든 샤드가 일정 임계 이하로 로드가 균형되었을 때 or 재배치 후 더 이상 개선이 없을 때

---

## 📈 주요 결과

- 제안 기법은 평균 6% CST 감소
- 일부 샤드 기준 최대 18% CST 감소
- 로드 편차 감소, 균형성 향상 확인

---

## 📌 구조적 의의 및 한계

### 📈 구조적 흐름 요약

```plaintext
각 샤드 블록 생성 시 → CST/IST 요약 → Beacon에 제출
→ Beacon이 로드 분석 → 특정 Epoch마다 재배치 조건 판단
→ 고부하 샤드 탐색 및 CST 유발 계정 선별 → 재배치 → 다음 Epoch 반영
```

- **Beacon Chain**: 샤드의 블록 요약 정보 수집, 부하 상태 파악
- **샤드 체인**: 실제 트랜잭션 처리 및 블록 생성
- **가중치 로직**: CST > IST (예: CST = 2 \* IST)

### 🌐 구조적/실제적 의의

- **실제 데이터 기반 분석**: 시뮬레이션이 아닌 실 블록 데이터를 이용한 점에서 신뢰도 확보
- **확장성 고려**: 블록체인의 병렬성과 부하 분산 모두 고려한 구조
- **적용 가능성**:
  - EVM 기반 샤딩 구조에 적용 가능
  - L2 확장성 솔루션과 병행 연구도 가능

### ⚠ 한계점

- **모든 계정 분석 → 연산량 과다**: 실제 프로토콜에선 특정 threshold 이상 유발하는 계정에 한해 적용해야 효율적
- **CST 부하를 2배로 가정**: 실제와 다를 수 있음
- **실제 구현 고려 부족**: Beacon-샤드 간 상호작용, 트리거 조건 등 미정의

---

## 🧭 향후 고려할 수 있는 나의 연구 제안 방향

- **네트워크 지연 고려한 동적 샤드 재배치**
- **이더리움 PoS Beacon Chain 기반 실측 실험**
- **DAS, ZK-Rollup 등 L1/L2 보완 기술과의 연계**
- **ZKP 기반 샤드 상태 증명으로 불필요한 데이터 이동 최소화**

- **가중치 기반 계정 선택 최적화 (커널 기반 방법?)**

---

## 🔑 결론 요약

> 본 논문은 샤딩 구조에서 발생하는 계정 간 트랜잭션의 부하 불균형을 해소하기 위해 **가중치 기반 로드 분석**과 **계정 재배치 알고리즘**을 제안하고, 실제 이더리움 데이터를 기반으로 유의미한 개선 효과를 입증하였다. 향후 동적 환경에서의 반응성과 강화학습 기반 적응 재배치 전략이 유의미한 연구 확장 방향이 될 수 있다.

---

📌 **By Junseung Lee** | 아주대학교 사이버보안학과 | GitHub: [junseng12](https://github.com/junseng12)
